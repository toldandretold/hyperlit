<blockquote>
<p><em>Yes, it is possible to modify the save logic in MarkdownITController and markdown-IT-editor.blade.php to capture the text between the highlighted text and the arrow link, and save it to a new annotations column in the highlights table.</em></p>
</blockquote><h1>Here&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&acirc;&#128;&nbsp;&Atilde;&cent;&acirc;&#130;&not;&acirc;&#132;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&nbsp;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&Atilde;&cent;&acirc;&#128;&#158;&Acirc;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&nbsp;&Atilde;&#131;&AElig;&#146;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#130;&Acirc;&not;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#130;&not;&Aring;&frac34;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&acirc;&#128;&nbsp;&Atilde;&cent;&acirc;&#130;&not;&acirc;&#132;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#130;&Acirc;&not;&Atilde;&#131;&acirc;&#128;&brvbar;&Atilde;&#130;&Acirc;&iexcl;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&Atilde;&#133;&Acirc;&iexcl;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&acirc;&#128;&nbsp;&Atilde;&cent;&acirc;&#130;&not;&acirc;&#132;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&nbsp;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&Atilde;&cent;&acirc;&#128;&#158;&Acirc;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&Atilde;&#133;&Acirc;&iexcl;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&acirc;&#128;&nbsp;&Atilde;&cent;&acirc;&#130;&not;&acirc;&#132;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#130;&Acirc;&not;&Atilde;&#131;&acirc;&#128;&brvbar;&Atilde;&#130;&Acirc;&iexcl;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&not;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&Atilde;&#130;&Acirc;&brvbar;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&iexcl;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&acirc;&#128;&nbsp;&Atilde;&cent;&acirc;&#130;&not;&acirc;&#132;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#130;&Acirc;&not;&Atilde;&#131;&acirc;&#128;&brvbar;&Atilde;&#130;&Acirc;&iexcl;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&Atilde;&#133;&Acirc;&iexcl;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&not;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&acirc;&#128;&nbsp;&Atilde;&cent;&acirc;&#130;&not;&acirc;&#132;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&nbsp;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&Atilde;&cent;&acirc;&#128;&#158;&Acirc;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&Atilde;&#133;&Acirc;&iexcl;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&acirc;&#128;&nbsp;&Atilde;&cent;&acirc;&#130;&not;&acirc;&#132;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#130;&Acirc;&not;&Atilde;&#131;&acirc;&#128;&brvbar;&Atilde;&#130;&Acirc;&iexcl;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&not;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&Atilde;&#130;&Acirc;&brvbar;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&frac34;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&acirc;&#128;&nbsp;&Atilde;&cent;&acirc;&#130;&not;&acirc;&#132;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#130;&Acirc;&not;&Atilde;&#131;&acirc;&#128;&brvbar;&Atilde;&#130;&Acirc;&iexcl;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&Atilde;&#133;&Acirc;&iexcl;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&cent;s how you can approach this:</h1><h2>Steps to Implement:</h2><div>'to extract'<a href="http://localhost:8000/to-do#hypercite_ijvpddw" id="hypercite_ijvpddw_b">[:]</a><br></div><p>Modify <u id="hypercite_mvf7qae">markdown-IT-editor.blade.php</u>: <u id="hypercite_6p7rs7t">Add logic</u> to <a href="/to-do#hypercite_k4ihzsj_b"><u id="hypercite_k4ihzsj">capture</u></a> the <u id="hypercite_9d6qnps">annotation</u> text <a href="/to-do#hypercite_lk4nj2a_b"><u id="hypercite_lk4nj2a">between the</u></a> highlight blockquote <a href="/to-do#hypercite_e36j4cu_b"><u id="hypercite_e36j4cu">and the line</u></a> break in the markdown file. <u id="hypercite_3fjw122">When the save</u> button is clicked, this annotation text needs to be sent along with the highlight ID to the controller. <u id="hypercite_hegisdk">Modify</u> <a href="/to-do#hypercite_j00w5wv_b"><u id="hypercite_j00w5wv">MarkdownITController</u></a>: Capture the <a href="/to-do#hypercite_d3qt4c6_b"><u id="hypercite_d3qt4c6">incoming</u></a> annotation text from the request. <a href="/to-do#hypercite_tc6jkjc_b"><u id="hypercite_tc6jkjc">Find</u></a> the corresponding highlight in the database using the highligh<u id="hypercite_x10i7e1">t_i</u>d. Update the <a href="/to-do#hypercite_oyx0fns_b"><u id="hypercite_oyx0fns">anno</u></a>tations c<u id="hypercite_l1sp3mk">ol</u>umn in the highlights <u id="hypercite_4himglx">table with</u> the <u id="hypercite_1bibbvr">captured text</u>.&nbsp;<span>'t_i'</span><a href="http://localhost:8000/to-do#hypercite_x10i7e1" id="hypercite_x10i7e1_b">[:]</a>&nbsp;<span>'anno'</span><a href="http://localhost:8000/to-do#hypercite_oyx0fns" id="hypercite_oyx0fns_b">[:]</a>&nbsp;<span>'and the line'</span><a href="http://localhost:8000/to-do#hypercite_e36j4cu" id="hypercite_e36j4cu_b">[:]</a></p><p>'clicked'<a href="http://localhost:8000/to-do#hypercite_cwvnv2m" id="hypercite_cwvnv2m_b">[:]</a>&nbsp;<span>'table with'</span><a href="http://localhost:8000/to-do#hypercite_4himglx" id="hypercite_4himglx_b">[:]</a><br></p><p>'captured text'<a href="http://localhost:8000/to-do#hypercite_1bibbvr" id="hypercite_1bibbvr_b">[:]</a><br></p><p>'Modify'<a href="http://localhost:8000/to-do#hypercite_hegisdk" id="hypercite_hegisdk_c">[:]</a><br></p><p>'When the save'<a href="http://localhost:8000/to-do#hypercite_3fjw122" id="hypercite_3fjw122_b">[:]</a><br></p><p>'markdown-IT-editor.blade.php'<a href="http://localhost:8000/to-do#hypercite_mvf7qae" id="hypercite_mvf7qae_b">[:]</a><br></p><p>'annotation'<a href="http://localhost:8000/to-do#hypercite_9d6qnps" id="hypercite_9d6qnps_b">[:]</a><br></p><p>'Add logic'<a href="http://localhost:8000/to-do#hypercite_6p7rs7t" id="hypercite_6p7rs7t_b">[:]</a><br></p><p>'i'<a href="http://localhost:8000/to-do#hypercite_426ft07" id="hypercite_426ft07_b">[:]</a><span>'i'</span><a href="http://localhost:8000/to-do#hypercite_426ft07" id="hypercite_426ft07_c">[:]</a><span>'i'</span><a href="http://localhost:8000/to-do#hypercite_426ft07" id="hypercite_426ft07_d">[:]</a><span>'i'</span><a href="http://localhost:8000/to-do#hypercite_426ft07" id="hypercite_426ft07_e">[:]</a>&nbsp;<span>'ol'</span><a href="http://localhost:8000/to-do#hypercite_l1sp3mk" id="hypercite_l1sp3mk_b">[:]</a><br></p><h1>Example Code Implementation:</h1><h2>1: Modify markdown-IT-editor.blade.php</h2><p>'annotation'<a href="http://localhost:8000/to-do#hypercite_ul3yhh6" id="hypercite_ul3yhh6_d">[:]</a><br></p><p>You need <u id="hypercite_ijvpddw">to extract</u> the <u id="hypercite_ul3yhh6">annotation</u> <u id="hypercite_t5oxmqq">text from</u> the markdown editor and send <u id="hypercite_426ft07">i</u>t to the&nbsp;<span>'capture'</span><a href="http://localhost:8000/to-do#hypercite_k4ihzsj" id="hypercite_k4ihzsj_b">[:]</a>controller <u id="hypercite_k90gegc">when t</u>he save button is <u id="hypercite_cwvnv2m">clicked</u>.&nbsp;'text from'<a href="http://localhost:8000/to-do#hypercite_t5oxmqq" id="hypercite_t5oxmqq_b">[:]</a>&nbsp;'when t'<a href="http://localhost:8000/to-do#hypercite_k90gegc" id="hypercite_k90gegc_b">[:]</a></p><pre><code>&lt;script&gt;
function saveMarkdown() {
    // Get the markdown content from the editor (assuming you have an editor instance)
    const markdownContent = editorInstance.getValue();

    // Split the content based on highlights and the arrow link
    const regex = /&gt; "(.*?)"\n&gt; \[&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&acirc;&#128;&nbsp;&Atilde;&cent;&acirc;&#130;&not;&acirc;&#132;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&nbsp;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&Atilde;&cent;&acirc;&#128;&#158;&Acirc;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&nbsp;&Atilde;&#131;&AElig;&#146;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#130;&Acirc;&not;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#130;&not;&Aring;&frac34;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&acirc;&#128;&nbsp;&Atilde;&cent;&acirc;&#130;&not;&acirc;&#132;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#130;&Acirc;&not;&Atilde;&#131;&acirc;&#128;&brvbar;&Atilde;&#130;&Acirc;&iexcl;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&Atilde;&#133;&Acirc;&iexcl;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&acirc;&#128;&nbsp;&Atilde;&cent;&acirc;&#130;&not;&acirc;&#132;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&nbsp;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&Atilde;&cent;&acirc;&#128;&#158;&Acirc;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&Atilde;&#133;&Acirc;&iexcl;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&acirc;&#128;&nbsp;&Atilde;&cent;&acirc;&#130;&not;&acirc;&#132;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&Atilde;&#133;&Acirc;&iexcl;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&not;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&Acirc;&brvbar;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&iexcl;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&Atilde;&#133;&Acirc;&iexcl;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&not;&nbsp;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&acirc;&#128;&nbsp;&Atilde;&cent;&acirc;&#130;&not;&acirc;&#132;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&nbsp;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&Atilde;&cent;&acirc;&#128;&#158;&Acirc;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&Atilde;&#133;&Acirc;&iexcl;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&not;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&Acirc;&brvbar;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&iexcl;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&acirc;&#128;&nbsp;&Atilde;&cent;&acirc;&#130;&not;&acirc;&#132;&cent;&Atilde;&#131;&AElig;&#146;&Atilde;&#130;&Acirc;&cent;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#130;&Acirc;&not;&Atilde;&#131;&acirc;&#128;&brvbar;&Atilde;&#130;&Acirc;&iexcl;&Atilde;&#131;&AElig;&#146;&Atilde;&#134;&acirc;&#128;&#153;&Atilde;&#131;&Acirc;&cent;&Atilde;&cent;&acirc;&#128;&#154;&Acirc;&not;&Atilde;&#133;&Acirc;&iexcl;&Atilde;&#131;&AElig;&#146;&Atilde;&cent;&acirc;&#130;&not;&Aring;&iexcl;&Atilde;&#131;&acirc;&#128;&#154;&Atilde;&#130;&Acirc;&copy;\]\((.*?)\)\n\n([\s\S]*?)---/g;
    let match;
    const annotations = [];

    // Use regex to find the highlights and annotations
    while ((match = regex.exec(markdownContent)) !== null) {
        const highlightText = match[1];  // Captured highlight text
        const highlightId = match[2].split("#")[1];  // Extract the highlight ID
        const annotationText = match[3].trim();  // Text between the arrow and line break

        annotations.push({
            highlight_id: highlightId,
            annotation: annotationText,
        });
    }

    // Send the annotations data to the controller
    fetch('/save-annotations', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'X-CSRF-TOKEN': '{{ csrf_token() }}'
        },
        body: JSON.stringify({ annotations })
    })
    .then(response =&gt; response.json())
    .then(data =&gt; {
        if (data.success) {
            alert('Annotations saved successfully.');
        } else {
            alert('Error saving annotations.');
        }
    });
}
&lt;/script&gt;

&lt;!-- Add a save button --&gt;
&lt;button onclick="saveMarkdown()"&gt;Save Annotations&lt;/button&gt;</code></pre><h1>2: Modify MarkdownITController</h1><p>Now, the controller should process the incoming annotations and update the highlights table with the new annotation data.</p><p>'Find'<a href="http://localhost:8000/to-do#hypercite_tc6jkjc" id="hypercite_tc6jkjc_b">[:]</a><br></p><h2>php</h2><pre><code>namespace App\Http\Controllers;

use Illuminate\Http\Request;
use Illuminate\Support\Facades\DB;

class MarkdownITController extends Controller
{
// Add a new method to handle saving annotations
public function saveAnnotations(Request $request)
{
    // Validate the incoming request data
    $request-&gt;validate([
        'annotations' =&gt; 'required|array',
        'annotations.*.highlight_id' =&gt; 'required|string',
        'annotations.*.annotation' =&gt; 'required|string',
    ]);

    $annotations = $request-&gt;input('annotations');

    // Loop through each annotation and update the corresponding highlight
    foreach ($annotations as $annotation) {
        DB::table('highlights')
            -&gt;where('highlight_id', $annotation['highlight_id'])
            -&gt;update(['annotations' =&gt; $annotation['annotation'], 'updated_at' =&gt; now()]);
    }

    return response()-&gt;json(['success' =&gt; true, 'message' =&gt; 'Annotations saved successfully']);
}
}</code></pre><h2>Explanation:</h2><p>markdown-IT-editor.blade.php:&nbsp;<span>'incoming'</span><a href="http://localhost:8000/to-do#hypercite_d3qt4c6" id="hypercite_d3qt4c6_b">[:]</a></p><p>The saveMarkdown() function uses a regex to extract the highlighted text, arrow link, and the annotation text between them. It sends the highlight_id and the annotation to the server using a POST request.&nbsp;<span>'between the'</span><a href="http://localhost:8000/to-do#hypercite_lk4nj2a" id="hypercite_lk4nj2a_b">[:]</a>&nbsp;MarkdownITController: The saveAnnotations() method processes the request, looping through the annotations and updating the corresponding highlights in the database. Each annotation is saved in the annotations column of the highlights table.</p><h2>Database Structure:</h2><p>Make sure the highlights table has an annotations column:&nbsp;<span>'MarkdownITController'</span><a href="http://localhost:8000/to-do#hypercite_j00w5wv" id="hypercite_j00w5wv_b">[:]</a></p><p>php</p><pre><code>Schema::table('highlights', function (Blueprint $table) {
$table-&gt;text('annotations')-&gt;nullable();  // Add a nullable text column for annotations
});</code></pre><h2>Final Thoughts:</h2><p>This solution will allow you to save annotations tied to each highlight into the highlights table. Let me know if you need further refinements or help with specific parts!</p>
